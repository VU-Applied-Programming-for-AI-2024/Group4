<!-- This html code is the search page (still needs a lot of work)-->

{% extends 'base.html' %}



{% block head %}
<title>Search bar</title>


<link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
<script src="https://unpkg.com/htmx.org@1.9.12"></script>

{% endblock %}

{% block body %}

<div class="choice-container" position="fixed">
{% for label, path in paths.items()%}
    {%if path != ''%}
        <div class="box">
            <img src="{{ url_for('static', filename='images/' + path) }}" alt="{{chair}}">
        </div>
    {%else%}
        <div class="box" id="{{label}}">
            <div class="title">{{label.capitalize()}}</div>
            <div class="content">Choose {{label.capitalize()}}!</div>
        </div>
    {%endif%}
{%endfor%}
</div>
<br>
<form method="POST" action="">
<button type="submit" class="start-game-button" hx-post="/pregame_check" hx-trigger="click">Start the game!</button>
</form>

<button class="start-game-button" hx-get="/clear_search" hx-trigger="click">Clear choice</button>



<!--Creating search container and button-->
<div id='chair'>
    
</div>
<div class="search-container">
    <input type="text" class="searchInput" placeholder="Select items" name="search_input" 
                   hx-get="/search_res" hx-trigger="keydown change delay:500ms" hx-target="#result_table">
                   <select id="filter" name="filter" hx-get="/search_res" hx-trigger="change" hx-target="#result_table">
                    <option value="all">All</option>
                    <option value="theme">Theme</option>
                    <option value="floor">Floor</option>
                    <option value="view">View</option>
                    <option value="misc">Misc</option>
                    <option value="character">Character</option>
                </select>
</div>

<div class="searchResults">
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Label</th>
                <th>Preview</th>
            </tr>

        </thead>
        <tbody id="result_table">
            
        </tbody>
    </table>
</div>

{% endblock %}