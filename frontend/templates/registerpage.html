<!-- This html code is the registration page, STILL IN USE DESPITE THE 'old' IN THE FILENAME!!!-->

{% extends 'base.html' %}

{% block head %}
<title>Register</title>
<link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
{% endblock %}


{% block body %}

<div>
    <!--Creating Register title and form-->
    <h2>Register</h2>

    <!--Creating a form for registration purpose-->
    <!--Includes username box, password box, email box and submit button-->    
    <form method="POST" action="">
        <label for="username:"><b>Username</b></label>
        <input type="text" id ="username" placeholder="Enter Username" name="username" required>
        <br>
        <label for="password"><b>Password</b></label>
        <input type="password" id="password" minlength="8" placeholder="Enter Password" name="password" required>
        <br>

        <!--Submit button with popup-->
        <button type="submit" id="popup-button">Register</button>
        <div id="popup-container"></div>
        <br>
        <br>
    </form>

    <!--Text and link leading to login page-->
    <p class="textborder">Already have an account? <a href="/login">Login</a></p>
</div>

<script>
    //Script that makes the popup work. 
    //Probably going to remove from website

    //check if popup button (=register button) is clicked
    document.getElementById("popup-button").addEventListener('click',
        function() {
            //retrieve variables (i.e the popup and its close button)
            var popupContainer = document.getElementById('popup-container');
            var popupBox = document.createElement('div');
            var closeButton = document.createElement('span');

            popupBox.className = 'popup-box'
            popupBox.innerHTML = '<div class="popup-content">Register form submitted!</div>';
            closeButton.className = 'button'
            closeButton.innerHTML = '&times;';


            //add close button and popup box to the view
            popupBox.appendChild(closeButton)
            popupContainer.appendChild(popupBox)

            //check if close button is clicked
            closeButton.addEventListener('click', function() {
                popupContainer.removeChild(popupBox)
            });
        });
</script>

<script>
function submitForm() {
    //Function that disables the register button once a form has been registered already
    document.getElementById("popup-button").disabled = true;
}
// try to retrieve information from registration form
var x = document.getElementById("registrationform").elements.namedItem("mail").value;
</script>


{% endblock %}

    